<!DOCTYPE html>
<html>
<head>
  <title>For Someone Special â¤ï¸</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="card">
  <h1>ğŸ’– Valentine Week Surprise ğŸ’–</h1>
  <p>7 Feb â€“ 14 Feb | Just For You</p>

  <div class="days">
    <a href="day1.html">7 Feb ğŸŒ¹</a>
    <a href="day2.html">8 Feb ğŸ’Œ</a>
    <a href="day3.html">9 Feb ğŸ«</a>
    <a href="day4.html">10 Feb ğŸ§¸</a>
    <a href="day5.html">11 Feb ğŸ¤</a>
    <a href="day6.html">12 Feb ğŸ¤—</a>
    <a href="day7.html">13 Feb ğŸ˜Š</a>
    <a href="day8.html">14 Feb â¤ï¸</a>
  </div>
</script>
<canvas id="fireworks"></canvas>
<script src="fireworks.js"></script>

<script>
let lastUnlocked = "";

const dayEffects = {
  rose: () => {
    playMusic("rose.mp3");
    multiBlast(4, 1.5);
  },
  propose: () => {
    playMusic("propose.mp3");
    heartMegaBlast();
  },
  chocolate: () => {
    playMusic("chocolate.mp3");
    rainHearts(25);
  },
  teddy: () => {
    playMusic("teddy.mp3");
    softFireworks();
  },
  promise: () => {
    playMusic("promise.mp3");
    centerBlast();
  },
  hug: () => {
    playMusic("hug.mp3");
    multiBlast(8, 2.5);
  },
  kiss: () => {
    playMusic("kiss.mp3");
    heartMegaBlast();
  },
  valentine: () => {
    playMusic("valentine.mp3");
    ultimateBlast();
  }
};

function playMusic(src) {
  let music = document.getElementById("bgMusic");
  music.src = src;
  music.play();
}

function multiBlast(times, power) {
  for (let i = 0; i < times; i++) {
    setTimeout(() => {
      firework(Math.random()*innerWidth, Math.random()*innerHeight, power || 1);
    }, i * 200);
  }
}

function centerBlast() {
  for (let i = 0; i < 6; i++) {
    setTimeout(() => {
      firework(innerWidth/2, innerHeight/2, 2);
    }, i * 150);
  }
}

function heartMegaBlast() {
  for (let i = 0; i < 4; i++) {
    setTimeout(() => {
      firework(innerWidth/2, innerHeight/2, 3);
    }, i * 200);
  }
}

function rainHearts(count) {
  for (let i = 0; i < count; i++) {
    setTimeout(() => {
      heartBurst(Math.random()*innerWidth, Math.random()*innerHeight);
    }, i * 120);
  }
}

function softFireworks() {
  multiBlast(5, 0.8);
}

function ultimateBlast() {
  centerBlast();
  rainHearts(40);
  setTimeout(() => multiBlast(10, 3), 800);
}

// ğŸ” AUTO DETECT UNLOCKED DAY
const observer = new MutationObserver(() => {
  for (let day in dayEffects) {
    const el = document.getElementById(day);
    if (el && getComputedStyle(el).display !== "none" && lastUnlocked !== day) {
      lastUnlocked = day;
      dayEffects[day]();
    }
  }
});

observer.observe(document.body, { childList: true, subtree: true, attributes: true });
</script>
  <body>

<audio id="bgMusic" src="music.mp3"></audio>

<div class="card">
   ...
</div>

</body>
</html>
